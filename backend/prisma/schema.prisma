generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  schemas  = ["public"]
}

model profiles {
  user_id                String    @id @db.Uuid
  subscription_status    String?   @default("free")
  plan_id                String?
  created_at             DateTime? @default(now()) @db.Timestamp(6)
  updated_at             DateTime? @default(now()) @db.Timestamp(6)
  generations_used       Int       @default(0)
  generation_limit       Int       @default(5)
  usage_reset_at         DateTime? @db.Timestamptz(6)
  plan                   String?   @default("FREE")
  stripe_customer_id     String?
  stripe_subscription_id String?

  @@schema("public")
}

model applications {
  id              String    @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  created_at      DateTime? @default(now()) @db.Timestamptz(6)
  job_description String
  cv_text         String?
  generated_type  String
  generated_text  String?
  cv_file_path    String?
  user_id         String    @db.Uuid

  @@schema("public")
}

model stripe_events {
  id         String    @id
  created_at DateTime? @default(now()) @db.Timestamptz(6)

  @@schema("public")
}

model items {
  id        BigInt   @id @default(autoincrement())
  name      String
  email     String
  createdAt DateTime @default(now()) @db.Timestamptz(6)

  @@schema("public")
}

model feedbacks {
  id         String   @id @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  user_id    String   @db.Uuid
  user_email String
  message    String
  page       String?
  created_at DateTime @default(now()) @db.Timestamptz(6)

  @@schema("public")
}

